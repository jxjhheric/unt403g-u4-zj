# 修改机顶盒开机画面和开机动画的教程

## 一、工具准备
以卡刷包为例，卡刷包升级固件一般为 `update.zip`，目标是修改这个升级包中的开机画面内容。  
所需工具：**MIK解包工具**（网络上直接搜索即可，本文使用的是3.8版本）。

---

## 二、开机logo和开机动画文件位置
1. 使用 **MIK工具** 对固件包进行解包操作，解包完成后会得到一个 `update` 文件夹。
2. 打开 `update` 文件夹，找到 `logo.img` 文件，这就是开机logo。
3. 再打开路径 `update\system\media\bootanimation.zip`，这个压缩包就是开机动画所在文件。

---

## 三、`bootanimation.zip` 解析
`bootanimation.zip` 是 zip 格式的文件，直接解压到当前文件夹后，会得到一个名为 `bootanimation` 的文件夹，通常包含以下内容：
- `part1` 文件夹
- `part2` 文件夹
- `desc.txt` 配置文件

---

## 四、修改过程

### 1. 修改 `logo.img`
- `logo.img` 是开机logo，修改方法如下：
  1. 准备一张自己想要的开机logo图片，图片格式必须为 **bmp**。
  2. 创建一个名为 `logo` 的文件夹，将图片命名为 `bootup.bmp` 并放入该文件夹。
  3. 将该文件夹放入 **MIK工具** 中进行打包签名，生成一个新的 `logo.img` 镜像文件。
  4. 删除固件包中原有的 `logo.img` 文件，替换为自己制作的 `logo.img`。

### 2. 修改 `bootanimation.zip`
- `bootanimation.zip` 文件夹内部分为三个部分：`part1`、`part2` 和 `desc.txt`。
  - `part1` 和 `part2` 文件夹中存放的是开机动画的帧图。
  - 修改步骤：
    1. 准备一段约30秒的视频，用视频转图片工具将其转换为 **jpg格式** 的图片。
    2. 删除 `part1` 和 `part2` 文件夹中的原图片，替换成自己转换的图片（建议每秒15帧）。
    3. 修改 `desc.txt` 配置文件，示例如下：
       ```txt
       1920 1080 15
       p 1 0 part1
       p 1 0 part2
       ```
       - 第一行：`1920` 是图片播放宽度，`1080` 是高度，`15` 表示每秒播放15帧。
       - 第二行：`p` 表示播放图片，数字 `1` 表示这段动画只播放一次，`0` 表示与下一段动画的间隔时间为0，`part1` 表示图片所在的文件夹。
       - 第三行：同理，表示播放 `part2` 文件夹中的图片。
    4. 注意：每部分完成后都要回车换行，最后一行结束后回车并保存。

---

## 五、打包替换签名

### 1. 打包
- 修改完动画文件夹后，用压缩软件将 `part1`、`part2` 和 `desc.txt` 文件压缩成 zip 格式。
- 压缩时注意事项：
  - 压缩格式选择 **ZIP**。
  - 压缩方式选择 **存储**。
- 完成后会生成一个新的 `bootanimation.zip` 压缩包，这就是修改后的动画文件。

### 2. 替换
- 删除原始的 `bootanimation.zip` 压缩包，替换为自己修改后的 `bootanimation.zip`。
- 确保 `media` 文件夹下只有 `Audio` 和 `bootanimation.zip` 两个文件。

### 3. 签名
- 将修改后的 `logo.img` 和 `bootanimation.zip` 替换到固件包中。
- 返回文件夹根目录，删除最原始的固件（即解包前的 `update.zip`）。
- 将 `update` 文件夹放入 **MIK软件** 中，自动打包签名，最终会生成一个新的 `update.zip` 刷机包。

---

## 六、刷入机顶盒
1. 将改装后的 `update.zip` 复制到 U 盘。
2. 进行卡刷操作。
3. 刷机完成后，机顶盒的开机logo和开机动画就会被成功修改。
